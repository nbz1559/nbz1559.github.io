<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SaturnV - Other</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="website.ico">
</head>
<body>
<div class="container">
    <aside class="sidebar">
        <h2>SaturnV</h2>
        <nav>
            <ul>
                <li><a href="index.html">Main</a></li>
                <li><a href="lua.html">Lua Documentation</a></li>
                <li><a href="tos.html">Terms of Service</a></li>
                <li><a href="premium.html">Premium</a></li>
                <li><a href="#" id="siderbardownload">Download</a></li>
                <li><a href="#" id="sidebardiscord">Discord (Support)</a></li>
                <li><a href="info.html">Other</a></li>
            </ul>
        </nav>
    </aside>

    <main class="main-content">
        <h2>Other</h2>
        <div class="columns">
            <div class="column card">
                <div class="card-content">
                    <h3>Information</h3>
                    <div class="sub-card">SaturnV is a mod menu for GTA 5 Story mode for both legacy and enhanced.
                        It has many features, such as the ability to create your own Lua Scripts using the builtin script engine,
                        a portable Los Santos Customs ready to use at any time, the ability to save your menu state so you dont have to re-enable everything
                        everytime you want to play, an Info Overlay that can display lots of statistics about the game and also the power to load in and out parts 
                        of the map at anytime. That is not even a glimpse of all the features avalible to use in SaturnV with many more to come.
                    </div>
                </div>
            </div>
            <div class="column card">
                <h3>Requirements</h3>
                <div class="card-content">
                <div class="sub-card">
                    - Operating System - Windows 10 and up<br>
                    - An installation of either GTA 5 Enhanced or Legacy<br>
                </div>
                </div>
            </div>
        </div>
    </main>
</div>
<script>
    document.getElementById("siderbardownload").addEventListener("click", async function() {
        const btn = this;
        const originalText = btn.textContent;
        btn.disabled = true;

        try {
            const response = await fetch("https://api.github.com/repos/nbz1559/SaturnV/releases/latest");
            if (!response.ok) throw new Error("Network error");

            const data = await response.json();
            let downloadUrl = "#";
            if (Array.isArray(data.assets) && data.assets.length > 0) {
                downloadUrl = data.assets[0].browser_download_url;
            } else {
                throw new Error("No assets found");
            }
            window.location.href = downloadUrl;
        } catch (err) {
            console.error(err);
            btn.textContent = "Failed to fetch release. Try again.";
            setTimeout(() => {
                btn.textContent = originalText;
            }, 3000);
        } finally {
            btn.disabled = false;
        }
    });

    document.getElementById("sidebardiscord").addEventListener("click", async function(e) {
        e.preventDefault();
        const btn = this;
        btn.disabled = true;

        try {
            const response = await fetch("https://api.saturnvmenu.com/discordinvite");
            if (!response.ok) throw new Error(`Network error: ${response.status}`);

            const data = await response.json();
            if (data.success && data.message) {
                window.open(data.message, "_blank");
            } else {
                throw new Error("Invalid server response");
            }
        } catch (err) {
            console.error(err);
            alert("Failed to fetch Discord invite. Try again.");
        } finally {
            btn.disabled = false;
        }
    });
</script>
</body>
<footer class="footer-bar">
    &copy; 2025 SaturnV Menu. All rights reserved.
</footer>
</html>